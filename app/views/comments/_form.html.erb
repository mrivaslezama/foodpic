<%= form_with(model: comment) do |form| %>
  <%= form.hidden_field :post_id, value: post.id %>
  <% if comment.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(comment.errors.count, "error") %> prohibited this comment from being saved:</h2>

      <ul>
        <% comment.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <article class="media">
    <figure class="media-left">
      <p class="image is-64x64">
        <%= render "shared/avatar_user", user: current_user %>
      </p>
    </figure>
    <div class="media-content">
      <div class="field">
        <p class="control">
          <%= form.text_area :text, class: 'textarea', placeholder: 'Add a comment...' %>
        </p>
      </div>
      <nav class="level">
        <div class="level-left">
          <div class="level-item">
            <%= form.submit "Submit", class: "button is-info" %>
          </div>
        </div>
      </nav>
    </div>
  </article>
<% end %>
